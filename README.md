# æ·±åœ³1980ï¼šAIé©±åŠ¨çš„å•†ä¸šäººç”Ÿæ¨¡æ‹Ÿæ¸¸æˆ

## ğŸ‰ å¼€å‘çŠ¶æ€æ›´æ–°

**é‡å¤§é‡Œç¨‹ç¢‘**: åç«¯æ ¸å¿ƒç³»ç»Ÿå·²å…¨éƒ¨å®Œæˆï¼âœ…

### å½“å‰è¿›åº¦
- âœ… **åç«¯å¼€å‘å®Œæˆ** (2024-06-28)
  - NestJS + TypeScript å®Œæ•´æ¶æ„
  - MongoDB + Neo4j + Redis æ•°æ®åº“é›†æˆ
  - Langchain JS + OpenAI GPT-4 AIå†³ç­–å¼•æ“
  - Socket.io å®æ—¶é€šä¿¡ç³»ç»Ÿ
  - å®Œæ•´çš„APIæ¥å£å’Œæµ‹è¯•è¦†ç›–

- ğŸš§ **å‰ç«¯å¼€å‘** (ä¸‹ä¸€é˜¶æ®µ)
  - React 19.1 + Vite æ¡†æ¶
  - åƒç´ é£æ ¼UIç»„ä»¶
  - å®æ—¶æ¸¸æˆç•Œé¢

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€æ¬¾åŸºäºAIå¤§è¯­è¨€æ¨¡å‹é©±åŠ¨çš„å›åˆåˆ¶ç½‘é¡µæ¸¸æˆï¼ŒèƒŒæ™¯è®¾å®šåœ¨1980å¹´çš„æ·±åœ³ç»æµç‰¹åŒºåˆåˆ›æ—¶æœŸã€‚ç©å®¶å°†æ‰®æ¼”ä¸€åå•†ä¸šäººå£«ï¼Œåœ¨è¿™ä¸ªå……æ»¡æœºé‡ä¸æŒ‘æˆ˜çš„æ—¶ä»£èƒŒæ™¯ä¸‹ï¼Œä¸50ä¸ªå„å…·ç‰¹è‰²çš„NPCè§’è‰²äº’åŠ¨ï¼Œä½“éªŒæ”¹é©å¼€æ”¾åˆæœŸçš„å•†ä¸šé£äº‘ã€‚

## æ¸¸æˆç‰¹è‰²

- **å†å²èƒŒæ™¯**ï¼š1980å¹´æ·±åœ³ç»æµç‰¹åŒºï¼ŒçœŸå®è¿˜åŸæ”¹é©å¼€æ”¾åˆæœŸçš„å•†ä¸šç¯å¢ƒ
- **AIé©±åŠ¨**ï¼šæ‰€æœ‰NPCè§’è‰²ç”±AIæ§åˆ¶ï¼Œå…·å¤‡ç‹¬ç«‹çš„æ€§æ ¼ã€ç›®æ ‡å’Œè¡Œä¸ºæ¨¡å¼
- **å¤æ‚å…³ç³»ç½‘**ï¼š50ä¸ªè§’è‰²é—´å­˜åœ¨é”™ç»¼å¤æ‚çš„äººé™…å…³ç³»ç½‘ç»œ
- **å›åˆåˆ¶ç­–ç•¥**ï¼šç©å®¶è¡ŒåŠ¨åï¼ŒAIæ¨¡æ‹Ÿå…¶ä»–è§’è‰²çš„å‘å±•å’Œäº’åŠ¨
- **åƒç´ é£æ ¼**ï¼šå¤å¤åƒç´ è‰ºæœ¯é£æ ¼ï¼Œè¥é€ 80å¹´ä»£æ°›å›´
- **å›¾æ•°æ®é©±åŠ¨**ï¼šä½¿ç”¨å›¾æ•°æ®åº“è®°å½•è§’è‰²å…³ç³»å’Œæ¸¸æˆçŠ¶æ€

## æ ¸å¿ƒç©æ³•

### å›åˆåˆ¶æœºåˆ¶
1. **ç©å®¶å›åˆ**ï¼šç©å®¶é€‰æ‹©è¡ŒåŠ¨ï¼ˆå•†ä¸šå†³ç­–ã€ç¤¾äº¤äº’åŠ¨ã€æŠ•èµ„ç­‰ï¼‰
2. **AIæ¨¡æ‹Ÿå›åˆ**ï¼šå…¶ä»–49ä¸ªè§’è‰²ç”±AIæ§åˆ¶ï¼Œæ ¹æ®å„è‡ªçš„ç›®æ ‡å’Œå…³ç³»ç½‘ç»œåšå‡ºè¡ŒåŠ¨
3. **äº‹ä»¶ç»“ç®—**ï¼šè®¡ç®—æ‰€æœ‰è¡ŒåŠ¨çš„ç»“æœï¼Œæ›´æ–°æ¸¸æˆçŠ¶æ€
4. **å…³ç³»å˜åŒ–**ï¼šæ ¹æ®äº’åŠ¨ç»“æœæ›´æ–°è§’è‰²é—´çš„å…³ç³»ç½‘ç»œ

### è§’è‰²ç³»ç»Ÿ
- **50ä¸ªç‹¬ç‰¹è§’è‰²**ï¼šæ¯ä¸ªè§’è‰²éƒ½æœ‰è¯¦ç»†çš„èƒŒæ™¯æ•…äº‹ã€æ€§æ ¼ç‰¹å¾ã€èŒä¸šç›®æ ‡
- **åŠ¨æ€å…³ç³»**ï¼šè§’è‰²é—´çš„å…³ç³»ä¼šæ ¹æ®æ¸¸æˆè¿›ç¨‹åŠ¨æ€å˜åŒ–
- **AIé©±åŠ¨è¡Œä¸º**ï¼šæ¯ä¸ªè§’è‰²éƒ½æœ‰ç‹¬ç«‹çš„AIå†³ç­–ç³»ç»Ÿ

### å•†ä¸šç³»ç»Ÿ
- **å¤šå…ƒåŒ–å•†ä¸šæœºä¼š**ï¼šè´¸æ˜“ã€åˆ¶é€ ã€æˆ¿åœ°äº§ã€é‡‘èç­‰
- **å¸‚åœºåŠ¨æ€**ï¼šAIæ¨¡æ‹ŸçœŸå®çš„å¸‚åœºæ³¢åŠ¨å’Œå•†ä¸šç¯å¢ƒå˜åŒ–
- **åˆä½œç«äº‰**ï¼šä¸å…¶ä»–è§’è‰²å½¢æˆåˆä½œæˆ–ç«äº‰å…³ç³»

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ (å¼€å‘ä¸­)
- **æ¡†æ¶**ï¼šReact 19.1 + Vite + TypeScript
- **UIåº“**ï¼šè‡ªå®šä¹‰åƒç´ é£æ ¼ç»„ä»¶
- **çŠ¶æ€ç®¡ç†**ï¼šZustandï¼ˆå…¨å±€çŠ¶æ€ï¼‰+ Jotaiï¼ˆåŸå­çŠ¶æ€ï¼‰
- **å›¾å½¢æ¸²æŸ“**ï¼šCanvas API + PixiJSï¼ˆåƒç´ è‰ºæœ¯ï¼‰
- **å®æ—¶é€šä¿¡**ï¼šWebSocket

### åç«¯æŠ€æœ¯æ ˆ âœ… (å·²å®Œæˆ)
- **è¿è¡Œæ—¶**ï¼šNode.js 22+
- **æ¡†æ¶**ï¼šNestJSï¼ˆTypeScriptï¼‰
- **æ•°æ®åº“**ï¼šNeo4jï¼ˆå›¾æ•°æ®åº“ï¼‰+ MongoDBï¼ˆæ¸¸æˆæ•°æ®ï¼‰+ Redisï¼ˆç¼“å­˜ï¼‰
- **AIé›†æˆ**ï¼šLangchain JS + OpenAI GPT-4
- **å®æ—¶é€šä¿¡**ï¼šSocket.io
- **å®¹å™¨åŒ–**ï¼šDocker + Docker Compose
- **æµ‹è¯•**ï¼šJest å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•

### æ•°æ®ç»“æ„è®¾è®¡

#### å›¾æ•°æ®åº“ï¼ˆNeo4jï¼‰
```cypher
// è§’è‰²èŠ‚ç‚¹
(:Character {
  id: string,
  name: string,
  age: number,
  profession: string,
  personality: object,
  background: string,
  goals: array,
  resources: object
})

// å…³ç³»è¾¹
(:Character)-[:KNOWS {strength: number, type: string}]->(:Character)
(:Character)-[:WORKS_WITH {role: string, since: date}]->(:Character)
(:Character)-[:COMPETES_WITH {intensity: number, reason: string}]->(:Character)
(:Character)-[:FAMILY {relation: string}]->(:Character)
```

#### æ¸¸æˆçŠ¶æ€æ•°æ®ï¼ˆMongoDBï¼‰
```javascript
// æ¸¸æˆå›åˆè®°å½•
{
  gameId: ObjectId,
  round: number,
  timestamp: Date,
  playerActions: [],
  aiActions: [],
  events: [],
  marketState: {},
  characterStates: {}
}
```

### AIç³»ç»Ÿè®¾è®¡

#### è§’è‰²AI Promptæ¨¡æ¿
```
ä½ æ˜¯{character_name}ï¼Œä¸€ä¸ªç”Ÿæ´»åœ¨1980å¹´æ·±åœ³çš„{profession}ã€‚

èƒŒæ™¯ä¿¡æ¯ï¼š
{character_background}

æ€§æ ¼ç‰¹å¾ï¼š
{personality_traits}

å½“å‰ç›®æ ‡ï¼š
{current_goals}

å…³ç³»ç½‘ç»œï¼š
{relationships}

å½“å‰æ¸¸æˆçŠ¶æ€ï¼š
{game_state}

è¯·æ ¹æ®ä»¥ä¸Šä¿¡æ¯ï¼Œåœ¨å½“å‰å›åˆé€‰æ‹©ä½ çš„è¡ŒåŠ¨ã€‚è€ƒè™‘ï¼š
1. ä½ çš„ä¸ªäººç›®æ ‡å’Œåˆ©ç›Š
2. ä¸å…¶ä»–è§’è‰²çš„å…³ç³»
3. å½“å‰çš„å¸‚åœºç¯å¢ƒ
4. å¯èƒ½çš„é£é™©å’Œæœºä¼š

è¯·ä»¥JSONæ ¼å¼å›å¤ä½ çš„è¡ŒåŠ¨å†³ç­–ï¼š
{
  "action_type": "å•†ä¸šè¡ŒåŠ¨/ç¤¾äº¤è¡ŒåŠ¨/æŠ•èµ„è¡ŒåŠ¨/å…¶ä»–",
  "target": "è¡ŒåŠ¨ç›®æ ‡ï¼ˆäººç‰©/å…¬å¸/é¡¹ç›®ç­‰ï¼‰",
  "description": "è¡ŒåŠ¨æè¿°",
  "reasoning": "å†³ç­–ç†ç”±",
  "expected_outcome": "é¢„æœŸç»“æœ"
}
```

## ğŸ“š é¡¹ç›®æ–‡æ¡£

### æ ¸å¿ƒæ–‡æ¡£
- [åç«¯å®Œæˆæ€»ç»“](./docs/backend-completion-summary.md) - ğŸ‰ åç«¯å¼€å‘æˆæœæ€»è§ˆ
- [å¼€å‘è®°å½•](./docs/development-log.md) - ğŸ“ˆ è¯¦ç»†å¼€å‘è¿›åº¦å’Œæ—¥å¿—
- [æŠ€æœ¯å®ç°æŒ‡å—](./docs/technical-implementation.md) - ğŸ—ï¸ æŠ€æœ¯æ¶æ„å’Œå®ç°æ–¹æ¡ˆ

### è®¾è®¡æ–‡æ¡£
- [è§’è‰²å…³ç³»ç½‘ç»œè®¾è®¡](./docs/characters-design.md) - ğŸ‘¥ 50ä¸ªè§’è‰²çš„è¯¦ç»†èƒŒæ™¯å’Œå…³ç³»ç½‘ç»œ
- [æ¸¸æˆæœºåˆ¶è®¾è®¡](./docs/game-mechanics.md) - ğŸ® å›åˆåˆ¶æ¸¸æˆæœºåˆ¶å’Œç³»ç»Ÿè®¾è®¡

### æŠ€æœ¯æ–‡æ¡£
- [åç«¯APIæ–‡æ¡£](./backend/API.md) - ğŸ”Œ å®Œæ•´çš„APIæ¥å£æ–‡æ¡£
- [åç«¯README](./backend/README.md) - ğŸš€ åç«¯æœåŠ¡ä½¿ç”¨æŒ‡å—

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 22+
- Yarn åŒ…ç®¡ç†å™¨
- Docker & Docker Compose
- OpenAI API Keyï¼ˆæˆ–å…¶ä»–LLM APIï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-username/ai-game.git
cd ai-game
```

2. **ç¯å¢ƒæ£€æŸ¥**
```bash
# æ£€æŸ¥å¼€å‘ç¯å¢ƒæ˜¯å¦æ»¡è¶³è¦æ±‚
chmod +x scripts/check-environment.sh
./scripts/check-environment.sh
```

3. **ç¯å¢ƒé…ç½®**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡ï¼Œæ·»åŠ ä½ çš„API Keys
nano .env
```

4. **ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ**
```bash
# ä½¿ç”¨Docker Composeå¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æˆ–è€…ä½¿ç”¨å¯åŠ¨è„šæœ¬
chmod +x scripts/start-dev.sh
./scripts/start-dev.sh
```

5. **åˆå§‹åŒ–æ•°æ®**
```bash
# åˆå§‹åŒ–è§’è‰²æ•°æ®å’Œå…³ç³»ç½‘ç»œ
docker-compose exec backend yarn db:init
```

6. **è®¿é—®åº”ç”¨**
- å‰ç«¯æ¸¸æˆç•Œé¢ï¼š`http://localhost:3000`
- åç«¯APIï¼š`http://localhost:3001`
- Neo4jæµè§ˆå™¨ï¼š`http://localhost:7474`ï¼ˆç”¨æˆ·åï¼šneo4jï¼Œå¯†ç ï¼špasswordï¼‰

### å¼€å‘æ¨¡å¼

å¦‚æœä½ æƒ³åœ¨æœ¬åœ°å¼€å‘è€Œä¸ä½¿ç”¨Dockerï¼š

```bash
# å¯åŠ¨æ•°æ®åº“æœåŠ¡
docker-compose up -d mongodb neo4j redis

# å®‰è£…åç«¯ä¾èµ–å¹¶å¯åŠ¨
cd backend
yarn install
yarn start:dev

# å®‰è£…å‰ç«¯ä¾èµ–å¹¶å¯åŠ¨ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd frontend
yarn install
yarn dev
```

## ğŸ“‹ å¼€å‘è®¡åˆ’ä¸è¿›åº¦

### âœ… ç¬¬ä¸€é˜¶æ®µï¼šåç«¯æ ¸å¿ƒç³»ç»Ÿ (å·²å®Œæˆ - 2024-06-28)
- [x] **åŸºç¡€é¡¹ç›®æ¶æ„æ­å»º** - NestJS + TypeScript å®Œæ•´æ¶æ„
- [x] **æ•°æ®åº“è®¾è®¡å’Œåˆå§‹åŒ–** - MongoDB + Neo4j + Redis é›†æˆ
- [x] **AIå†³ç­–å¼•æ“å¼€å‘** - Langchain JS + OpenAI GPT-4
- [x] **åŸºç¡€æ¸¸æˆå¾ªç¯å®ç°** - å›åˆåˆ¶å¼•æ“å’ŒçŠ¶æ€ç®¡ç†
- [x] **APIæ¥å£å¼€å‘** - å®Œæ•´çš„RESTful API
- [x] **å®æ—¶é€šä¿¡ç³»ç»Ÿ** - Socket.io WebSocket
- [x] **æµ‹è¯•è¦†ç›–** - Jest å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

### ğŸš§ ç¬¬äºŒé˜¶æ®µï¼šå‰ç«¯å¼€å‘ (è¿›è¡Œä¸­)
- [ ] **Reactå‰ç«¯æ¶æ„** - React 19.1 + Vite + TypeScript
- [ ] **çŠ¶æ€ç®¡ç†** - Zustand/Jotai çŠ¶æ€ç®¡ç†
- [ ] **åƒç´ é£æ ¼UI** - è‡ªå®šä¹‰åƒç´ è‰ºæœ¯ç»„ä»¶
- [ ] **æ¸¸æˆç•Œé¢** - ä¸»æ¸¸æˆç•Œé¢å’Œäº¤äº’
- [ ] **å®æ—¶é€šä¿¡é›†æˆ** - WebSocketå‰ç«¯é›†æˆ
- [ ] **å…³ç³»ç½‘ç»œå¯è§†åŒ–** - è§’è‰²å…³ç³»å›¾è¡¨

### ğŸ“… ç¬¬ä¸‰é˜¶æ®µï¼šå†…å®¹å®Œå–„ (å¾…å¼€å§‹)
- [ ] **è§’è‰²æ•°æ®å®Œå–„** - 50ä¸ªè§’è‰²çš„è¯¦ç»†èƒŒæ™¯
- [ ] **äº‹ä»¶ç³»ç»Ÿæ‰©å±•** - æ›´å¤šæ¸¸æˆäº‹ä»¶å’Œå‰§æƒ…
- [ ] **æ¸¸æˆå¹³è¡¡è°ƒæ•´** - AIè¡Œä¸ºå’Œæ¸¸æˆæœºåˆ¶ä¼˜åŒ–
- [ ] **éŸ³æ•ˆå’ŒéŸ³ä¹** - æ¸¸æˆéŸ³é¢‘èµ„æº

### ğŸ¯ ç¬¬å››é˜¶æ®µï¼šä¼˜åŒ–å‘å¸ƒ (å¾…å¼€å§‹)
- [ ] **æ€§èƒ½ä¼˜åŒ–** - å‰åç«¯æ€§èƒ½è°ƒä¼˜
- [ ] **ç”¨æˆ·ä½“éªŒä¼˜åŒ–** - UI/UXæ”¹è¿›
- [ ] **å…¨é¢æµ‹è¯•** - åŠŸèƒ½æµ‹è¯•å’Œç”¨æˆ·æµ‹è¯•
- [ ] **éƒ¨ç½²å’Œå‘å¸ƒ** - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### ğŸ“Š å½“å‰å®Œæˆåº¦
- **åç«¯å¼€å‘**: 100% âœ…
- **å‰ç«¯å¼€å‘**: 0% ğŸš§
- **å†…å®¹å®Œå–„**: 30% (åŸºç¡€æ•°æ®å·²å®Œæˆ)
- **æµ‹è¯•ä¼˜åŒ–**: 50% (åç«¯æµ‹è¯•å·²å®Œæˆ)

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## è”ç³»æ–¹å¼

é¡¹ç›®é“¾æ¥: [https://github.com/your-username/ai-game](https://github.com/your-username/ai-game)

---

*è¿™æ˜¯ä¸€ä¸ªAIé©±åŠ¨çš„åˆ›æ–°æ¸¸æˆé¡¹ç›®ï¼Œæ—¨åœ¨é€šè¿‡æŠ€æœ¯æ‰‹æ®µé‡ç°1980å¹´æ·±åœ³çš„å•†ä¸šé£äº‘ï¼Œè®©ç©å®¶ä½“éªŒæ”¹é©å¼€æ”¾åˆæœŸçš„åˆ›ä¸šæ¿€æƒ…ã€‚*
